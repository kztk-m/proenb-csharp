<!doctype html>
<html lang="ja">
    <head>
        <title>第2回 継承 - 東北大学プログラミング演習B (C#)</title>
        <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<link rel="stylesheet" href="./css/cs.css">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz@20" rel="stylesheet">
<script type="text/javascript" src="./js/preprocess.js"></script>
    </head>
    <body>
        <header>
                      <nav>
              <ul>
                <li class="top"><a href="./">ホーム</a></li>
                <!-- <li><a href="./setup.html">環境構築1</a></li> -->
                <!-- <li><a href="./setup_gui.html">環境構築2</a></li> -->
                <li class="dd"><span class="ddt">環境構築</span>
                  <ul>
                    <li><a href="./setup.html">環境構築1（C#/F#共通）</a></li>
                    <li><a href="./setup_gui.html">環境構築2（C#演習用）</a></li>
                    <li><a href="./setup_q.html">確認用課題</a></li>
                  </ul>
                </li>
                <li class="dd"><span class="ddt">講義資料</span>
                  <ul> 
                    <li><a href="./w1.html">第1回資料</a><a href="./q1.html">第1回課題</a></li>
                    <li><a href="./w2.html">第2回資料</a><a href="./q2.html">第2回課題</a></li>
                    <li><a href="./w3.html">第3回資料</a><a href="./q3.html">第3回課題</a></li>
                    <li><a href="./w4.html">第4回資料</a><a href="./q4.html">第4回課題</a></li>
                    <li><a href="./w5.html">第5回資料</a><a href="./q5.html">第5回課題</a></li>
                    <li><a href="./w6.html">第6回資料</a><a href="./q6.html">第6回課題</a></li>
                  </ul>
                </li>
                <li><a href="./links.html">参考書など</a></li>
             </ul>
            </nav>

            
               <h1>第2回 継承</h1>
             
            
               <p class="last-update">最終更新: 2025-04-10 17:38:41</p> 
            
            <div class="qnav">
              <ul>
                <li><a href="w2.html">講義資料</a></li><li><a href="q2.html">課題</a></li>
              </ul>
            </div>   
        </header>

        <main role="main" class="with-right-nav">
            <nav class="toc">
<ul>
<li><a href="#オブジェクト指向言語の利点" id="toc-オブジェクト指向言語の利点">オブジェクト指向言語の利点</a></li>
<li><a href="#継承inheritance" id="toc-継承inheritance">継承（inheritance）</a>
<ul>
<li><a href="#例電話機" id="toc-例電話機">例：電話機</a></li>
<li><a href="#object型" id="toc-object型"><code>object</code>型</a></li>
</ul></li>
<li><a href="#オーバロードoverload" id="toc-オーバロードoverload">オーバロード（overload）</a></li>
<li><a href="#キャスト" id="toc-キャスト">キャスト</a></li>
<li><a href="#練習問題" id="toc-練習問題">練習問題</a></li>
</ul>
</nav>
<section class="mainbody"><section id="オブジェクト指向言語の利点" class="level2">
<h2>オブジェクト指向言語の利点</h2>
<p><a href="./w1.html">前回</a>，オブジェクトというのは大雑把には「データと，それに関連する関数」をまとめたものであり，「オブジェクトの作成やオブジェクトに対するメソッドを呼び出しを基本としてプログラムを構成する」のが（C#などにおける）オブジェクト指向プログラミングであると述べた．そして，実際に例や課題を通してオブジェクト指向プログラミングを体験してもらった．</p>
<p>では，そのようなアプローチにどのような利点があるだろうか．ひとつは<strong>カプセル化</strong>である．アクセス指定子を適切に設定することにより，メソッドやデータをプログラムの他のパートから隠蔽することができる．また，クラスを利用することによって，「データ」と「それに関連する関数」という明らかに関連の深いものを，自然に局所にまとめることが可能となる．これにより，クラスを開発する側はプログラムの他の部分を気にすることなく内部実装を変更することができるようになるし，クラスやそのクラスのオブジェクトを使う側は内部の詳細を気にすることなしにそのクラスやそのオブジェクトを利用することができる．こうした，部品毎に分けてプログラムを開発できることは<strong>モジュラリティ</strong>と呼ばれ，実用的なプログラミング言語が兼ね備えているべき能力の一つである．</p>
<div class="note">
<div class="title">
<p>Note</p>
</div>
<p>クラスやオブジェクトが（オブジェクト指向）言語のモジュラリティを支える全てではない．実際に，クラスではうまくまとめきれない関心事をまとめるためにアスペクト指向言語などの言語が提案されている．また，後半学ぶF#のような（典型的な）関数プログラミング言語では得意とする抽象化が異なる（「visitorパターン」や「expression problem」について調べてみよ）．</p>
</div>
<p>また<strong>継承</strong>によるコードの再利用性や，その継承を利用した<strong>ポリモーフィズム</strong>（「多態性」や「多相性」など．<em>同じコードで異なる型のデータを扱えること</em>）も
C#のようなクラスべースのオブジェクト指向言語の利点である．</p>
<p>今回の演習では，それを詳しくみることにする．</p>
</section>
<section id="継承inheritance" class="level2">
<h2>継承（inheritance）</h2>
<p>継承は，元となるクラス<code>B</code>（基底クラス，親クラスなど）からアクセスレベルがprivateでない（protected，internalや publicなど）なフィールドやメソッド等をすべて受け継いだクラス<code>D</code>（派生クラス，子クラスなど）を作成する機能である．その際において以下が可能となる．</p>
<ul>
<li><code>D</code>のインスタンスは<code>B</code>のインスタンスして扱うことができる (<code>D</code>は<code>B</code>の<strong>部分型 (subtype)</strong>)
<ul>
<li>たとえば，<code>f(B b)</code>に<code>D</code>のインスタンスを渡すことができる</li>
<li><code>B b = new D()</code>のように<code>B</code>型の変数を<code>D</code>のインスタンスで初期化したり，また代入したりできる．</li>
</ul></li>
<li>クラス<code>B</code>の<strong>仮想メソッド（virtual method）</strong>を クラス<code>D</code>は<strong>オーバライド（override）</strong>することができる．
<ul>
<li><p>仮想メソッドとは大雑把にはインスタンスによって挙動を変えることができるメソッド．</p></li>
<li><p>オーバライドとは<code>D</code>のインスタンスにおける仮想メソッドの挙動を<code>B</code>のものから変えること．たとえば，<code>D</code>が<code>B</code>の仮想メソッド<code>f()</code>をオーバライドしているしている場合，以下で呼び出されるメソッドは元々の<code>B</code>のものではなく<code>D</code>がオーバライドしたものとなる．</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode cs"><code class="sourceCode cs"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>B b <span class="op">=</span> <span class="kw">new</span> <span class="fu">D</span><span class="op">();</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">.</span><span class="fu">f</span><span class="op">();</span>          </span></code></pre></div></li>
</ul></li>
</ul>
<div class="note">
<div class="title">
<p>Note</p>
</div>
<p>仮想メソッドはインスタンスによってどのような動作をするかが異なるため，たとえば，</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode cs"><code class="sourceCode cs"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> C <span class="op">{</span> <span class="kw">public</span> <span class="kw">virtual</span> <span class="dt">void</span> <span class="fu">f</span><span class="op">()</span> <span class="op">{</span> <span class="op">...</span> <span class="op">}</span> <span class="op">}</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> P <span class="op">{</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">public</span> <span class="kw">static</span> <span class="dt">void</span> C <span class="fu">g</span><span class="op">()</span> <span class="op">{</span> <span class="op">...</span> <span class="op">}</span> </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">public</span> <span class="kw">static</span> <span class="dt">void</span> <span class="fu">h</span><span class="op">()</span> <span class="op">{</span> C x <span class="op">=</span> <span class="fu">g</span><span class="op">();</span> x<span class="op">.</span><span class="fu">f</span><span class="op">();</span>  <span class="op">}</span> </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>というコードにおいて，<code>x.f()</code>で呼ばれるメソッドは最初の行で定義したものとは限らない．たとえば，どこかで<code>C</code>の派生クラスで<code>f()</code>をオーバライドするようなもの<code>D</code>が作成され，<code>g()</code>が返すのは<code>D</code>のインスタンスかもしれない．</p>
<p>その意味では，クラスは，アクセス制御を無視したとしても，たとえばC言語における構造体の定義とその型の引数を第一引数としてとるような関数をまとめたものとは異なる．典型的な実装においては，インスタンスはフィールドの値をまとめたもののほか仮想メソッドの実体への参照を持つ．</p>
</div>
<section id="例電話機" class="level3">
<h3>例：電話機</h3>
<p>例を通して継承を説明しよう．以下の<code>Phone</code>クラスを考える．</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode cs"><code class="sourceCode cs"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Phone </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>      <span class="co">// 電話番号</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>      <span class="kw">protected</span> <span class="dt">string</span> number<span class="op">;</span> </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>      <span class="kw">public</span> <span class="fu">Phone</span><span class="op">(</span><span class="dt">string</span> n<span class="op">)</span> </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>      <span class="op">{</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>         number <span class="op">=</span> n<span class="op">;</span> </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>      <span class="op">}</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>      <span class="kw">public</span> <span class="dt">void</span> <span class="fu">Call</span><span class="op">()</span> </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>      <span class="op">{</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>         Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">&quot;Called!&quot;</span><span class="op">);</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>      <span class="op">}</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>      <span class="co">// 仮想メソッド</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>      <span class="kw">public</span> <span class="kw">virtual</span> <span class="dt">void</span> <span class="fu">Info</span><span class="op">()</span> </span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>      <span class="op">{</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>         Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">&quot;Phone: &quot;</span> <span class="op">+</span> number<span class="op">);</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>      <span class="op">}</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>これを元に，電話番号の他にメールアドレスも持つ <code>MobilePhone</code> クラスを作成してみる．
C#では継承は，クラス定義の際にクラス名の横に<code>: 基底クラス</code>とすることで行える．</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode cs"><code class="sourceCode cs"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">// MobilePhoneはPhoneの派生クラス</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MobilePhone <span class="op">:</span> Phone</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>      <span class="kw">protected</span> <span class="dt">string</span> email<span class="op">;</span> </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>      <span class="co">// &quot;: base(n)&quot; の部分は基底クラスのコンストラクタを呼ぶ．</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>      <span class="co">// &quot;: base(n)&quot;の省略は &quot;: base()&quot; と同じ意味である．</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>      <span class="co">// そのため，もしここで当該部分を省略するとエラーになる．</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>      <span class="co">// （Phone()というコンストラクタは定義されていないため．）</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>      <span class="kw">public</span> <span class="fu">MobilePhone</span><span class="op">(</span><span class="dt">string</span> n<span class="op">,</span> <span class="dt">string</span> e<span class="op">)</span> <span class="op">:</span> <span class="kw">base</span><span class="op">(</span>n<span class="op">)</span> </span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>      <span class="op">{</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>         email <span class="op">=</span> e<span class="op">;</span> </span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>      <span class="op">}</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>      <span class="co">// MobilePhoneはPhoneに含まれないメソッドを含んでもよい．</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>      <span class="kw">public</span> <span class="dt">void</span> <span class="fu">Mail</span><span class="op">()</span> </span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>      <span class="op">{</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>         Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">&quot;Mailed!&quot;</span><span class="op">);</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>      <span class="op">}</span>   </span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>      <span class="co">// 仮想メソッドをオーバライド</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>      <span class="kw">public</span> <span class="kw">override</span> <span class="dt">void</span> <span class="fu">Info</span><span class="op">()</span> </span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>      <span class="op">{</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>         <span class="co">// 基底クラスの（すわなち，オーバライドされる前の） Info() を呼ぶ</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>         <span class="kw">base</span><span class="op">.</span><span class="fu">Info</span><span class="op">();</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>         </span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>         Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">&quot;EMail: &quot;</span> <span class="op">+</span> email<span class="op">);</span> </span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>      <span class="op">}</span>       </span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>以下のように，<code>MobilePhone</code>のインスタンスに対しては基底クラスのメソッドも，<code>MobilePhone</code>のメソッドも呼び出すことができる．</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode cs"><code class="sourceCode cs"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>MobilePhone mp <span class="op">=</span> <span class="kw">new</span> <span class="fu">MobilePhone</span><span class="op">(</span><span class="st">&quot;090-0000-0000&quot;</span><span class="op">,</span> <span class="st">&quot;nobody@example.com&quot;</span><span class="op">);</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>mp<span class="op">.</span><span class="fu">Call</span><span class="op">();</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>mp<span class="op">.</span><span class="fu">Mail</span><span class="op">();</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>mp<span class="op">.</span><span class="fu">Info</span><span class="op">();</span> </span></code></pre></div>
<p>上を（適当なMainメソッドを用意するなどして）実行すると，以下となる．</p>
<pre class="text"><code>Called!
Mailed! 
Phone: 090-0000-0000
EMail: nobody@example.com </code></pre>
<p>前述したように，<code>MobilePhone</code>のインスタンスは<code>Phone</code>のインスタンスでもある．そのため，以下のようなコードも記述できる．</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode cs"><code class="sourceCode cs"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>Phone p <span class="op">=</span> <span class="kw">new</span> <span class="fu">MobilePhone</span><span class="op">(</span><span class="st">&quot;090-0000-0000&quot;</span><span class="op">,</span> <span class="st">&quot;nobody@example.com&quot;</span><span class="op">);</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>p<span class="op">.</span><span class="fu">Call</span><span class="op">();</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">// p.Mail(); はエラーになる．MailはPhoneのメソッドではないので</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>p<span class="op">.</span><span class="fu">Info</span><span class="op">();</span> </span></code></pre></div>
<p>実行結果は以下となる．</p>
<pre class="text"><code>Called!
Phone: 090-0000-0000
EMail: nobody@example.com </code></pre>
<p>ここで注目すべきことは二つある．一つは</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode cs"><code class="sourceCode cs"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>Phone p <span class="op">=</span> <span class="op">...</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>p<span class="op">.</span><span class="fu">Call</span><span class="op">();</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>p<span class="op">.</span><span class="fu">Info</span><span class="op">();</span> </span></code></pre></div>
<p>というコードは<code>p</code>に代入されるものがPhoneのインスタンスであろうがMobilePhoneのインスタンスであろうが動作する．このように同じコードで異なる型のデータを扱えることをポリモーフィズムと言う．</p>
<p>もう一つは<code>Info()</code>は仮想メソッドであるので<code>p.Info()</code>の挙動は実際に<code>p</code>に代入されるインスタンスにより変わりうる．現時点では<code>Phone</code>の派生クラスは<code>MobilePhone</code>しかないが，別の派生クラスを定義したり<code>MobilePhone</code>をさらに派生したりすることも可能である．</p>
<p>実際に以下のコードを実行することで動作を確認してみよう．</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode cs"><code class="sourceCode cs"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Phone </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>      <span class="kw">protected</span> <span class="dt">string</span> number<span class="op">;</span> </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>      <span class="kw">public</span> <span class="fu">Phone</span><span class="op">(</span><span class="dt">string</span> n<span class="op">)</span> </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>      <span class="op">{</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>         number <span class="op">=</span> n<span class="op">;</span> </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>      <span class="op">}</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>      <span class="kw">public</span> <span class="dt">void</span> <span class="fu">Call</span><span class="op">()</span> </span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>      <span class="op">{</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>         Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">&quot;Called!&quot;</span><span class="op">);</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>      <span class="op">}</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>      <span class="kw">public</span> <span class="kw">virtual</span> <span class="dt">void</span> <span class="fu">Info</span><span class="op">()</span> </span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>      <span class="op">{</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>         Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">&quot;Phone: &quot;</span> <span class="op">+</span> number<span class="op">);</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>      <span class="op">}</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MobilePhone <span class="op">:</span> Phone </span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>      <span class="kw">protected</span> <span class="dt">string</span> email<span class="op">;</span> </span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>      <span class="kw">public</span> <span class="fu">MobilePhone</span><span class="op">(</span><span class="dt">string</span> n<span class="op">,</span> <span class="dt">string</span> e<span class="op">)</span> <span class="op">:</span> <span class="kw">base</span><span class="op">(</span>n<span class="op">)</span> </span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>      <span class="op">{</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>         email <span class="op">=</span> e<span class="op">;</span> </span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>      <span class="op">}</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>      <span class="kw">public</span> <span class="dt">void</span> <span class="fu">Mail</span><span class="op">()</span> </span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>      <span class="op">{</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>         Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">&quot;Mailed!&quot;</span><span class="op">);</span></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>      <span class="op">}</span>   </span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>      <span class="kw">public</span> <span class="kw">override</span> <span class="dt">void</span> <span class="fu">Info</span><span class="op">()</span> </span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>      <span class="op">{</span></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>         <span class="kw">base</span><span class="op">.</span><span class="fu">Info</span><span class="op">();</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>         Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">&quot;EMail: &quot;</span> <span class="op">+</span> email<span class="op">);</span> </span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>      <span class="op">}</span>       </span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program </span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>      <span class="kw">static</span> <span class="dt">void</span> <span class="fu">CallAndInfo</span><span class="op">(</span>Phone p<span class="op">)</span> </span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>      <span class="op">{</span></span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>         p<span class="op">.</span><span class="fu">Call</span><span class="op">();</span> </span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>         p<span class="op">.</span><span class="fu">Info</span><span class="op">();</span> </span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>      <span class="op">}</span></span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>      <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">(</span><span class="dt">string</span><span class="op">[]</span> args<span class="op">)</span> </span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>      <span class="op">{</span></span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>         <span class="fu">CallAndInfo</span><span class="op">(</span> <span class="kw">new</span> <span class="fu">Phone</span><span class="op">(</span><span class="st">&quot;090-0000-0000&quot;</span><span class="op">)</span> <span class="op">);</span> </span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>         Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">&quot;--------------------&quot;</span><span class="op">);</span></span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>         <span class="fu">CallAndInfo</span><span class="op">(</span> <span class="kw">new</span> <span class="fu">MobilePhone</span><span class="op">(</span><span class="st">&quot;090-0000-0000&quot;</span><span class="op">,</span> <span class="st">&quot;nobody@example.com&quot;</span> <span class="op">));</span></span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a>      <span class="op">}</span></span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>実行結果は以下となる．</p>
<pre class="text"><code>Called!
Phone: 090-0000-0000
--------------------
Called!
Phone: 090-0000-0000
EMail: nobody@example.com</code></pre>
</section>
<section id="object型" class="level3">
<h3><code>object</code>型</h3>
<p>C#には<code>object</code>という，全ての型の祖先となる型が存在する．<code>object</code>の興味深い仮想メソッドの一つに<code>ToString()</code>がある．</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode cs"><code class="sourceCode cs"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Phone</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>   <span class="co">// 上に同じ</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>   <span class="kw">public</span> <span class="kw">override</span> <span class="dt">string</span> <span class="fu">ToString</span><span class="op">()</span> </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>   <span class="op">{</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>      <span class="kw">return</span> <span class="st">&quot;Phone {number = &quot;</span> <span class="op">+</span> number <span class="op">+</span> <span class="st">&quot;}&quot;</span><span class="op">;</span>  </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>   <span class="op">}</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MobilePhone </span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>   <span class="co">// 上に同じ</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>   <span class="kw">public</span> <span class="kw">override</span> <span class="dt">string</span> <span class="fu">ToString</span><span class="op">()</span> </span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>   <span class="op">{</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>      <span class="kw">return</span> <span class="st">&quot;MobilePhone {number = &quot;</span> <span class="op">+</span> number <span class="op">+</span> <span class="st">&quot;, email = &quot;</span> <span class="op">+</span> email <span class="op">+</span> <span class="st">&quot;}&quot;</span><span class="op">;</span>  </span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>   <span class="op">}</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program </span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>   <span class="kw">public</span> <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>   <span class="op">{</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>      Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="kw">new</span> <span class="fu">Phone</span><span class="op">(</span><span class="st">&quot;090-0000-0000&quot;</span><span class="op">));</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Phone {number = 090-0000-0000 }</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>      Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="kw">new</span> <span class="fu">MobilePhone</span><span class="op">(</span><span class="st">&quot;090-0000-0000&quot;</span><span class="op">,</span> <span class="st">&quot;nobody@example.com&quot;</span><span class="op">));</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>      <span class="co">// MobilePhone {number = 090-0000-0000, email = nobody@example.com}</span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>   <span class="op">}</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>以上のコードがユーザ定義型のオブジェクトに対しても動作するのは，<code>Console.WriteLine(object)</code>が中で<code>ToString()</code>を呼んでいるためである．</p>
<div class="note">
<div class="title">
<p>Note</p>
</div>
<p>Cで無理矢理，継承を再現するとすると，子クラスに相当する構造体の先頭に親クラスに相当する構造体を置いて，前者を指すポインタを後者を指すポインタとしても意味があるようにする．また，仮想メソッドは関数ポインタによって表わすことができる．（実際の実装でも仮想メソッドテーブルなる，メソッドの実体への参照をまとめたものがしばしば用いられる）．</p>
</div>
</section>
</section>
<section id="オーバロードoverload" class="level2">
<h2>オーバロード（overload）</h2>
<p>C#ではクラスは引数の型や数の異なる複数の同名のメソッドやコンストラクタを持つ (<strong>オーバロード</strong>) ことができる．たとえば，<a href="./w1.html">前回</a>の<code>Counter</code>クラスに以下のコンストラクタやメソッドを追加することができる．</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode cs"><code class="sourceCode cs"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="fu">Counter</span><span class="op">()</span> <span class="op">:</span> <span class="kw">this</span><span class="op">(</span><span class="dv">0</span><span class="op">)</span> <span class="op">{</span> <span class="op">}</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="fu">Counter</span><span class="op">(</span> Counter c <span class="op">)</span> <span class="op">:</span> <span class="kw">this</span><span class="op">(</span>c<span class="op">.</span><span class="fu">GetValue</span><span class="op">())</span> <span class="op">{</span> <span class="op">}</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">Inc</span><span class="op">(</span><span class="dt">int</span> c<span class="op">)</span> </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>      count <span class="op">+=</span> c<span class="op">;</span> </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>オーバロードも（広義の）ポリモーフィズムを実現する言語機能の一つである．</p>
<div class="example">
<p><span class="title">例</span></p>
<p>たとえば，+演算子は多数オーバロードされていて，たとえばそれにより通常の加算だけでなく，文字列同士の連接や<code>ToString()</code>を経由した文字列の連接が行える．</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode cs"><code class="sourceCode cs"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">&quot;Hello&quot;</span> <span class="op">+</span> <span class="st">&quot; &quot;</span> <span class="op">+</span> <span class="st">&quot;World!&quot;</span><span class="op">);</span> <span class="co">// Hello World!</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">&quot;i = &quot;</span> <span class="op">+</span> i<span class="op">);</span>               <span class="co">// i = 0 </span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="dt">double</span> d <span class="op">=</span> <span class="fl">2.3</span><span class="op">;</span> </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>d <span class="op">+</span> <span class="st">&quot;.&quot;</span><span class="op">);</span>                  <span class="co">// 2.3.</span></span></code></pre></div>
<p>最初の<code>WriteLine</code>では，引数として<code>string</code>2つを受けとる+演算子（2つとも）が使用されている．二個目の例では，第一引数として<code>string</code>，第二引数として<code>object</code>を受けとる+演算子が，最後の例では，第一引数として<code>object</code>，第二引数として<code>string</code>を受けとる+演算子が使用されている．</p>
</div>
<div class="note">
<div class="title">
<p>Note</p>
</div>
<p>継承によるポリモーフィズムは部分型ポリモーフィズム（subtype polymorphism）と呼ばれるものの一種であるが，オーバロードによるポリモーフィズムはアドホックポリモーフィズム（ad-hoc polymorphism）と呼ばれるものの一種である．</p>
</div>
</section>
<section id="キャスト" class="level2">
<h2>キャスト</h2>
<p>C#では，数値型をより広い型や浮動小数点数型に変換したり，派生クラスのインスタンスを基底クラスのインスタンスに変換したりするのに陽な操作は不要である．</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode cs"><code class="sourceCode cs"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="dt">byte</span> b <span class="op">=</span> <span class="bn">0xbe</span><span class="op">;</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> i <span class="op">=</span> b<span class="op">;</span> </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="dt">double</span> d <span class="op">=</span> i<span class="op">;</span> </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>Phone p <span class="op">=</span> <span class="kw">new</span> <span class="fu">MobilePhone</span><span class="op">(</span><span class="st">&quot;090-0000-0000&quot;</span><span class="op">,</span> <span class="st">&quot;nobody@example.com&quot;</span> <span class="op">);</span> </span></code></pre></div>
<p>一方で，その逆をするにはキャストが必要である．</p>
<pre style="line-height:1.3">
(<span class="metaname">型</span>) <span class="metaname">式</span>
</pre>
<p>デフォルトだと，整数型をより小さい整数型にキャストするときには上位ビットが切り詰められ，同じサイズの整数型にキャストするときは同じビット表現がキャスト先の型として解釈されることになる．また，<code>(byte) 0x1ff</code>などのように，定数がキャストされるときにキャスト先の型の収まらない場合はコンパイルエラーとなる．</p>
<div class="example">
<p><span class="title">例</span></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode cs"><code class="sourceCode cs"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span>  i <span class="op">=</span> <span class="bn">0x1ff</span><span class="op">;</span>           </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="dt">byte</span> b <span class="op">=</span> <span class="bn">0xff</span><span class="op">;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">((</span><span class="dt">byte</span><span class="op">)</span>  i<span class="op">);</span> <span class="co">// 255</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">((</span><span class="dt">sbyte</span><span class="op">)</span> b<span class="op">);</span> <span class="co">// -1</span></span></code></pre></div>
<p>また，クラスについてはキャスト元がキャスト先の型を持ちえない場合は<strong>例外</strong>（後の回で詳しく紹介する．捕捉しなければ実行時エラーとなる）が発生する．</p>
</div>
<div class="example">
<p><span class="title">例</span></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode cs"><code class="sourceCode cs"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="dt">object</span> o <span class="op">=</span> <span class="kw">new</span> <span class="fu">Phone</span><span class="op">(</span><span class="st">&quot;090-0000-0000&quot;</span><span class="op">);</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co">// 以下はキャスト成功</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="op">((</span>Phone<span class="op">)</span> o<span class="op">).</span><span class="fu">Call</span><span class="op">();</span> <span class="co">// Called! </span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co">// 以下は例外発生</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="op">((</span>MobilePhone<span class="op">)</span> o<span class="op">).</span><span class="fu">Mail</span><span class="op">();</span> </span></code></pre></div>
<p>なお，暗黙の型変換が行える場合にもキャストを用いて陽に行ってもよい．</p>
</div>
<div class="example">
<p><span class="title">例</span></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode cs"><code class="sourceCode cs"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span>  i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="dt">long</span> l <span class="op">=</span> <span class="op">(</span><span class="dt">long</span><span class="op">)</span> i<span class="op">;</span> </span></code></pre></div>
</div>
</section>
<section id="練習問題" class="level2">
<h2>練習問題</h2>
<div class="caution">
<div class="title">
<p>Caution</p>
</div>
<p>練習問題の解答は提出しない．講義中にトライしわからない点を質問するのに使うとよい．</p>
</div>
<p>上述の<code>MobilePhone</code>クラスをさらに継承し，以下のコンストラクタ・メソッドを持つクラス<code>SmartPhone</code>を作成しなさい．</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">コンストラクタ・メソッド</th>
<th style="text-align: left;">実装すべき挙動</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>public SmartPhone(string n, string e, string o)</code></td>
<td style="text-align: left;">電話番号<code>n</code>，メールアドレス<code>e</code>，持ち主<code>o</code>を受けとるコンストラクタ．</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>public void Touch()</code></td>
<td style="text-align: left;">単に標準出力に<code>Touched!</code>と出力する．</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>public override void Info()</code></td>
<td style="text-align: left;">電話番号，メールアドレスに加え，持ち主の情報も標準出力に出力する．</td>
</tr>
</tbody>
</table>
<p>また，<code>MobilePhone</code>の例にならい，適切な<code>Main</code>メソッドを<code>Program</code>クラスに実装し動作確認せよ．特に，<code>SmartPhone</code>のインスタンスが，<code>MobilePhone</code>のインスタンスとしても<code>Phone</code>のインスタンスとしても使えることがわかるようにせよ．</p>
<div class="hint">
<p>上記の仕様は他にフィールドをもってはいけないとは書いていない．上記を達成するためにはどんなフィールドが必要になるかを考えてみよう．</p>
</div>
</section></section>

        </main>

        <footer>
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </footer>
    </body>
</html>
